<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

<title>iScroll demo: scroll to element</title>
<script src="../js/libs/jquery.js"></script>
<script src="../js/libs/iScroll.js"></script>
<script src="../js/iappear.js"></script>
<style type="text/css">
* {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
}

html {
        -ms-touch-action: none;
}

body,ul,li {
        padding: 0;
        margin: 0;
        border: 0;
}

body {
        font-size: 12px;
        font-family: ubuntu, helvetica, arial;
        overflow: hidden; /* this is important to prevent the whole page to bounce */
}

#header {
        position: absolute;
        z-index: 2;
        top: 0;
        left: 0;
        width: 100%;
        height: 45px;
        line-height: 45px;
        background: #CD235C;
        padding: 0;
        color: #eee;
        font-size: 20px;
        text-align: center;
        font-weight: bold;
}

#footer {
        position: absolute;
        z-index: 2;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 48px;
        background: #444;
        padding: 0;
        border-top: 1px solid #444;
}

#wrapper {
        position: absolute;
        z-index: 1;
        /*top: 45px;*/
        /*bottom: 48px;*/
        top: 0;
        bottom: 0;
        left: 0;
        width: 100%;
        background: #ccc;
        overflow: hidden;
}

#scroller {
        position: absolute;
        z-index: 1;
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        width: 100%;
        -webkit-transform: translateZ(0);
        -moz-transform: translateZ(0);
        -ms-transform: translateZ(0);
        -o-transform: translateZ(0);
        transform: translateZ(0);
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-text-size-adjust: none;
        -moz-text-size-adjust: none;
        -ms-text-size-adjust: none;
        -o-text-size-adjust: none;
        text-size-adjust: none;
}

#scroller ul {
        list-style: none;
        padding: 0;
        margin: 0;
        width: 100%;
        text-align: left;
}

#scroller li {
        padding: 0 10px;
        height: 115px;
        line-height: 115px;
        border-bottom: 1px solid #ccc;
        border-top: 1px solid #fff;
        background-color: #fafafa;
        font-size: 14px;
}

#scroller li:nth-child(10) {

        height: 300px;
        line-height: 300px;
        background-color: #fff;
        -webkit-transition: background-color 1s ease-in-out;
           -moz-transition: background-color 1s ease-in-out;
                transition: background-color 1s ease-in-out;
        
}

#scroller li:nth-child(44) {

        height: 1000px;
        line-height: 1000px;
        background-color: #fff;
        -webkit-transition: all 1s ease-out;
           -moz-transition: all 1s ease-out;
                transition: all 1s ease-out;
        
}

#scroller li {
        -webkit-transition: all 300ms ease-out;
           -moz-transition: all 300ms ease-out;
                transition: all 300ms ease-out;
        
        -webkit-transform: translateY( 150px );
           -moz-transform: translateY( 150px );
                transform: translateY( 150px );
}
#scroller li.appeared {
     -webkit-transform: translateY( 0px );
       -moz-transform: translateY( 0px );
            transform: translateY( 0px );   
}
</style>
</head>
<body>
<!-- <div id="header">iScroll</div> -->

<div id="wrapper">
        <div id="scroller">
                <ul>
                        <li>Pretty row 1</li>
                        <li>Pretty row 2</li>
                        <li>Pretty row 3</li>
                        <li>Pretty row 4</li>
                        <li>Pretty row 5</li>
                        <li>Pretty row 6</li>
                        <li>Pretty row 7</li>
                        <li>Pretty row 8</li>
                        <li>Pretty row 9</li>
                        <li>Pretty row 10</li>
                        <li>Pretty row 11</li>
                        <li>Pretty row 12</li>
                        <li>Pretty row 13</li>
                        <li>Pretty row 14</li>
                        <li>Pretty row 15</li>
                        <li>Pretty row 16</li>
                        <li>Pretty row 17</li>
                        <li>Pretty row 18</li>
                        <li>Pretty row 19</li>
                        <li>Pretty row 20</li>
                        <li>Pretty row 21</li>
                        <li>Pretty row 22</li>
                        <li>Pretty row 23</li>
                        <li>Pretty row 24</li>
                        <li>Pretty row 25</li>
                        <li>Pretty row 26</li>
                        <li>Pretty row 27</li>
                        <li>Pretty row 28</li>
                        <li>Pretty row 29</li>
                        <li>Pretty row 30</li>
                        <li>Pretty row 31</li>
                        <li>Pretty row 32</li>
                        <li>Pretty row 33</li>
                        <li>Pretty row 34</li>
                        <li>Pretty row 35</li>
                        <li>Pretty row 36</li>
                        <li>Pretty row 37</li>
                        <li>Pretty row 38</li>
                        <li>Pretty row 39</li>
                        <li>Pretty row 40</li>
                        <li>Pretty row 41</li>
                        <li>Pretty row 42</li>
                        <li>Pretty row 43</li>
                        <li>Pretty row 44</li>
                        <li>Pretty row 45</li>
                        <li>Pretty row 46</li>
                        <li>Pretty row 47</li>
                        <li>Pretty row 48</li>
                        <li>Pretty row 49</li>
                        <li>Pretty row 50</li>
                        <li>Lorem ipsum dolor sit amet.</li>
                        <li>Amet nihil officiis eaque maxime.</li>
                        <li>Obcaecati laborum ullam iste quam.</li>
                        <li>Quidem, enim ratione excepturi minima.</li>
                        <li>Deleniti suscipit illum optio nostrum.</li>
                        <li>Ut, molestiae omnis odit unde.</li>
                        <li>Beatae alias distinctio in fugiat.</li>
                        <li>Neque vel sint totam enim.</li>
                        <li>Aut, quaerat eaque repellat earum.</li>
                        <li>Dolores quibusdam laborum enim eos.</li>
                        <li>Nemo veniam sed error rem.</li>
                        <li>Quae esse temporibus maxime iusto.</li>
                        <li>Animi quidem numquam accusamus? Dolor?</li>
                        <li>Deserunt nobis vel odit itaque!</li>
                        <li>Ad, perspiciatis saepe voluptatem amet.</li>
                        <li>Obcaecati porro nemo enim sed.</li>
                        <li>Tenetur eligendi quos vero non?</li>
                        <li>Tempore, qui quas ipsam maxime?</li>
                        <li>Porro neque reprehenderit voluptatem repudiandae.</li>
                        <li>Sit id provident animi blanditiis.</li>
                        <li>Numquam rem harum ipsum odit.</li>
                        <li>Facilis asperiores nemo hic temporibus.</li>
                        <li>Perspiciatis consectetur exercitationem libero delectus.</li>
                        <li>Nulla adipisci obcaecati unde nam.</li>
                        <li>Omnis inventore tempora qui maxime?</li>
                        <li>Tenetur earum totam illo ducimus.</li>
                        <li>Inventore, eos deserunt vitae dignissimos!</li>
                        <li>Perspiciatis soluta incidunt est perferendis.</li>
                        <li>Necessitatibus, explicabo iusto magnam iure?</li>
                        <li>Recusandae, ad natus asperiores totam!</li>
                </ul>
        </div>
</div>

<!-- <div id="footer"></div> -->
<script type="text/javascript">
$(document).on("ready", function(){
        $el = $('li:nth-child(10)');
        iScroll = new IScroll("#wrapper", {
                probeType: 3,
                mouseWheel: true
      });
        $("li:nth-child(10)").iappear(iScroll, {
                once: true,
                on_appear: function() {
                        $(this).css("background-color", "#B4D455");
                        $(this).addClass("appeared");
                }
        });
        
        $("li:nth-child(44)").iappear(iScroll, {
                once: false,
                on_appear: function() {
                        console.log("The big guy is here....");
                        $(this).css("background-color", "#B4D455");
                        $(this).addClass("appeared");
                        

                },
                on_disappear: function() {
                        $(this).css("background-color", "#F06D06");
                        $(this).removeClass("appeared");
                        

                }
        });
        $("li").iappear(iScroll, {
                once: false,
                on_appear: function() {
                    $(this).addClass("appeared");
                },
                on_disappear: function() {
                    $(this).removeClass("appeared");
                }
        });
});
</script>
</body>
</html>