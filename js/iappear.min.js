/*! MiniBoilerplate - v1.2.0 - 2013-10-20
* http://miniboilerplate.com
* Copyright (c) 2013 Matthieu Aussaguel; Licensed MIT */(function(){jQuery(function(){return $.iappear=function(a,b,c){var d,e;if("object"!=typeof b||null===b.version)throw new Error("iScroll5 or greater is reqired for this plugin to work.");return this.opts={},this.$element=$(a),this.element=this.$element.get(0),this.$window=$(window),this.location=-1,this.position=-1,e=this,this.status=!1,this.appeared=!1,this.disappeared=!1,this.get_conv_axis=function(){return"y"===this.opts.axis?"top":"left"},this.update_location=function(){var a,b;return a=this.get_conv_axis(),b=this.$element.position(),this.location=b[a]},this.gather_dimensions=function(){return this.dimensions={window:{x:this.$window.width(),y:this.$window.height()},element:{x:this.$element.outerWidth(),y:this.$element.outerHeight()}}},this.update_position=function(){var a;return a=b.getComputedPosition()[this.opts.axis],this.position=a+this.opts.offset,this.maybe_update_visibility(),this.position},this.is_visible=function(){var a,b;return b=this.dimensions.window[this.opts.axis],a=this.dimensions.element[this.opts.axis],this.location>=this.position&&this.location+a<=this.position+b?!0:!1},d=function(){var a,b;return a=e.opts.axis,b=this[a]>>0,e.position=b,e.maybe_update_visibility(),b},this.maybe_update_visibility=function(){var a;if(this.appeared!==!0||this.disappeared!==!0||this.opts.once!==!0)return a=this.is_visible(),this.status!==a&&this.update_status(a),a},this.update_status=function(a){if(null==a&&(a=!1),this.status===a)throw new Error("Status was already "+a);return this.status=a,a===!0?(this.opts.once===!0&&(this.appeared=!0),this.opts.on_appear()):(this.opts.once===!0&&(this.disappeared=!0),this.opts.on_disappear())},this.init=function(){return this.opts=$.extend({},this.defaults,c),this.gather_dimensions(),this.update_location(),this.update_position(),b.on("scroll",d),b.on("scrollEnd",d),b.on("refresh",this.gather_dimensions),b.on("refresh",this.update_position)},this.init(),this},$.iappear.prototype.defaults={on_appear:function(){},on_disappear:function(){},once:!0,offset:0,axis:"y"},$.fn.iappear=function(a,b){return this.each(function(){var c;return void 0===$(this).data("iappear")?(c=new $.iappear(this,a,b),$(this).data("iappear",c)):void 0})}})}).call(this);